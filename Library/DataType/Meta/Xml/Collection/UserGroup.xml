<?xml version="1.0" encoding="UTF-8"?>

<type name="UserGroup">
    <dataSource>
        <method>UserGroupGetter</method>
        <methodTotalCount>UserGroupTotalCountGetter</methodTotalCount>
    </dataSource>
    <dataStore>
        <method>UserGroupSetter</method>
    </dataStore>
    <dataRemove>
        <method>UserGroupRemover</method>
    </dataRemove>

    <children>
        <entry
            method="UserGetter"
            methodTotalCount="UserTotalCountGetter"
            appendMethod="appendUser"
            appendTotalCountMethod="appendUserTotalCount"
            appendTotalCountValueField="count"
            parent="id:group_id"
            child="group_id"
        />
    </children>

    <form>
        <elements>
            <id>
                <type>Hidden</type>
                <name>id</name>
            </id>
            <name>
                <type>Text</type>
                <options>
                    <label>Название группы</label>
                    <required>1</required>
                    <validators>
                        <strlen>
                            <validator>StringLength</validator>
                            <options>
                                <min>6</min>
                                <max>200</max>
                            </options>
                        </strlen>
                    </validators>
                </options>
            </name>

            <users>
                <name>users</name>
                <type>TooGlasses</type>
                <options>
                    <childAsField>users</childAsField>
                    <label>Пользователи</label>
                    <sourceModel>
                        <name>User</name>
                        <collection>list</collection>
                        <fillAsync>true</fillAsync>
                    </sourceModel>
                    <sourceModelAsync>
                        <url>/j/users</url>
                        <paramname>q</paramname>
                    </sourceModelAsync>
                </options>
            </users>

            <submit>
                <type>submit</type>
                <options>
                    <value>save</value>
                    <label>Сохранить</label>
                </options>
            </submit>
            <reset>
                <type>reset</type>
                <options>
                    <value>reset</value>
                    <label>Отменить</label>
                </options>
            </reset>

        </elements>
    </form>
</type>
